@model Tuple<List<ConfiguracionCamposMRGE.Models.ProveedorCamposModel>, List<ConfiguracionCamposMRGE.Models.CampoMirageModel>>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv=“X-UA-Compatible” content=“IE =8” />

    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">

    <title>Consultar Facturas</title>

    <link rel="stylesheet" href="~/Content/bootstrap.min.css">

    <link rel="stylesheet" href="~/Styles/Mirage.css">

    <link rel="stylesheet" href="assets/css/Navbar-Right-Links-icons.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/0fabe3d8af.js" crossorigin="anonymous"></script>

    <script>
        window.onload = function () {
            enableFechasEmision();
        }
    </script>
</head>

<body id="body-pd" class="h-100" style="background-color: #F4F6F8;">
    <header class="shadow-sm header" id="header">
        <div class="header_toggle">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="-32 0 512 512" width="1em" height="1em" fill="currentColor"
                 id="header-toggle">
                <!-- ! . -->
                <path d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z">
                </path>
            </svg>

            <img class="img-fluid ms-3" src="~/images/Mirage-Logo.png" height="24" width="169">
        </div>

        <div class="header_img">
            <img src="https://i.imgur.com/hczKIze.jpg">
        </div>
    </header>

    <div id="nav-bar" class="l-navbar">
        <nav class="nav-mirage">
            <div>
                <div class="nav_list">
                    <a class="nav_link" href="@Url.Action("Index", "Home")">

                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="-64 0 512 512" width="1em" height="1em"
                             fill="currentColor">
                            <!-- ! . -->
                            <path d="M256 0v128h128L256 0zM288 256H96v64h192V256zM224 128L224 0H48C21.49 0 0 21.49 0 48v416C0 490.5 21.49 512 48 512h288c26.51 0 48-21.49 48-48V160h-127.1C238.3 160 224 145.7 224 128zM64 72C64 67.63 67.63 64 72 64h80C156.4 64 160 67.63 160 72v16C160 92.38 156.4 96 152 96h-80C67.63 96 64 92.38 64 88V72zM64 136C64 131.6 67.63 128 72 128h80C156.4 128 160 131.6 160 136v16C160 156.4 156.4 160 152 160h-80C67.63 160 64 156.4 64 152V136zM320 440c0 4.375-3.625 8-8 8h-80C227.6 448 224 444.4 224 440v-16c0-4.375 3.625-8 8-8h80c4.375 0 8 3.625 8 8V440zM320 240v96c0 8.875-7.125 16-16 16h-224C71.13 352 64 344.9 64 336v-96C64 231.1 71.13 224 80 224h224C312.9 224 320 231.1 320 240z">
                            </path>
                        </svg>

                        <span class="nav_name">Facturas</span>
                    </a>

                    <a class="nav_link" href="@Url.Action("Index", "Emisor")">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="-32 0 512 512" width="1em" height="1em"
                             fill="currentColor">
                            <!-- ! . -->
                            <path d="M448 336v-288C448 21.49 426.5 0 400 0H96C42.98 0 0 42.98 0 96v320c0 53.02 42.98 96 96 96h320c17.67 0 32-14.33 32-31.1c0-11.72-6.607-21.52-16-27.1v-81.36C441.8 362.8 448 350.2 448 336zM143.1 128h192C344.8 128 352 135.2 352 144C352 152.8 344.8 160 336 160H143.1C135.2 160 128 152.8 128 144C128 135.2 135.2 128 143.1 128zM143.1 192h192C344.8 192 352 199.2 352 208C352 216.8 344.8 224 336 224H143.1C135.2 224 128 216.8 128 208C128 199.2 135.2 192 143.1 192zM384 448H96c-17.67 0-32-14.33-32-32c0-17.67 14.33-32 32-32h288V448z">
                            </path>
                        </svg>

                        <span class="nav_name">Emisores</span>
                    </a>

                    <a class="nav_link" href="@Url.Action("Index", "ConfigCampos")">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="-32 0 512 512" width="1em" height="1em"
                             fill="currentColor">
                            <!-- ! . -->
                            <path d="M448 336v-288C448 21.49 426.5 0 400 0H96C42.98 0 0 42.98 0 96v320c0 53.02 42.98 96 96 96h320c17.67 0 32-14.33 32-31.1c0-11.72-6.607-21.52-16-27.1v-81.36C441.8 362.8 448 350.2 448 336zM143.1 128h192C344.8 128 352 135.2 352 144C352 152.8 344.8 160 336 160H143.1C135.2 160 128 152.8 128 144C128 135.2 135.2 128 143.1 128zM143.1 192h192C344.8 192 352 199.2 352 208C352 216.8 344.8 224 336 224H143.1C135.2 224 128 216.8 128 208C128 199.2 135.2 192 143.1 192zM384 448H96c-17.67 0-32-14.33-32-32c0-17.67 14.33-32 32-32h288V448z">
                            </path>
                        </svg>

                        <span class="nav_name">Campos</span>
                    </a>

                    <a class="nav_link" href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em"
                             fill="currentColor">
                            <!-- ! . -->
                            <path d="M64 400C64 408.8 71.16 416 80 416H480C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H80C35.82 480 0 444.2 0 400V64C0 46.33 14.33 32 32 32C49.67 32 64 46.33 64 64V400zM342.6 278.6C330.1 291.1 309.9 291.1 297.4 278.6L240 221.3L150.6 310.6C138.1 323.1 117.9 323.1 105.4 310.6C92.88 298.1 92.88 277.9 105.4 265.4L217.4 153.4C229.9 140.9 250.1 140.9 262.6 153.4L320 210.7L425.4 105.4C437.9 92.88 458.1 92.88 470.6 105.4C483.1 117.9 483.1 138.1 470.6 150.6L342.6 278.6z">
                            </path>
                        </svg>

                        <span class="nav_name">Estadísticas</span>
                    </a>
                </div>
            </div>
        </nav>
    </div>

    <!-- Start: Titulo -->

    <section class="pt-3">
        <!-- Start: Tabs -->
        <!-- End: Tabs -->
    </section>

    <!-- End: Titulo -->
    <!-- Start: Filtros -->

    <section class="mt-3 px-3">
        <div class="card border-0">
            <div class="card-body shadow-sm">
                <form action="/ConfigCampos/CrearCampoProveedor" method="post">
                    <div class="container-fluid">
                        <div class="row">
                            <!-- Start: enableFechasEmision -->
                            <div class="col-md-1">
                                <label class="form-label fw-semibold text-gray" for="idProveedor">Id:</label>
                                <input class="form-control" type="text" placeholder="ID" name="id" id="serie"></input>
                            </div>

                            <div class="col-md-2">
                                <label class="form-label fw-semibold text-gray" for="Proveedor">Proveedor:</label>
                                <input class="form-control" type="text" placeholder="Proveedor" name="proveedor" id="serie"></input>
                            </div>

                            <div class="col-md-2">
                                <label class="form-label fw-semibold text-gray" for="Campo">Campo:</label>
                                <input class="form-control" type="text" placeholder="Campo" name="campo" id="serie"></input>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label fw-semibold text-gray" for="Etiqueta">Etiqueta:</label>
                                <input class="form-control" type="text" placeholder="Etiqueta" name="etiqueta" id="serie"></input>
                            </div>
                            <div class="col-md-1">
                                <label class="form-label fw-semibold text-gray" for="TipoDato">Tipo de Dato:</label>
                                <input class="form-control" type="text" placeholder="Tipo De Dato" name="tipodato" id="serie"></input>
                            </div>
                            <div class="col-md-1">
                                <div class="form-group">
                                    <label for="input5" class="form-label fw-semibold text-gray">Es arreglo?</label>
                                    <select id="inputState" class="form-control" name="arreglo">
                                        <option selected>Si</option>
                                        <option>No</option>
                                    </select>
                                </div>
                            </div>
                            <!-- End: enableFechasEmision -->
                            <!-- Start: Buscar -->
                           
                            <!-- End: Buscar -->
                            <!-- Start: Folio fiscal -->
                            <div class="row mt-2">
                                <div class="col-md-1">
                                    <label class="form-label fw-semibold text-gray" for="Etiqueta">Version:</label>
                                    <input class="form-control" type="text" placeholder="Version" name="version" id="serie"></input>
                                </div>
                                <div class="col-md-1">
                                    <div class="form-group">
                                        <label for="input5" class="form-label fw-semibold text-gray">Obligatorio?</label>
                                        <select id="inputState" class="form-control" name="obligatorio">
                                            <option selected>Si</option>
                                            <option>No</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4 col-xl-3 col-xxl-2 d-flex justify-content-center align-items-center mt-5 mt-xxl-0">
                                    <button class="btn d-flex justify-content-center align-items-center w-50 btn-primary" id="btn-bootstrap"
                                            type="submit" value="FacturasFolio"

                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em"
                                         height="1em" fill="currentColor">
                                        <!-- ! . -->
                                        <path d="M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z">
                                        </path>
                                    </svg>

                                    &nbsp;Crear
                                </button>
                                </div>
                            </div>
                            
                            <!-- End: Folio fiscal -->
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- End: Filtros -->

    <section class="mt-3">
        <div class="container-fluid">
            <div class="row">


                <div class="col mt-3 mt-xl-0 table-responsive">
                    <div class="card border-0 shadow-sm h-100">


                        <div class="row">
                            <div class="col-md-5">
                                <table id="table1" class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th scope="col" class="text-center">Campos Proveedor</th>
                                            <th scope="col" colspan="2" class="text-center">Acciones</th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in Model.Item1)
                                        {
                                            <tr>

                                                <td class="text-center">@item.CamposPrCampo</td>
                                                <td class="text-center">
                                                    <form method="post" action="@Url.Action("MoveRow", "ConfigCampos")">
                                                        <input type="hidden" name="id" value="@item.CamposPrId" />
                                                        <input type="hidden" name="proveedor" value="@item.CamposPrProveedor" />
                                                        <input type="hidden" name="campo" value="@item.CamposPrCampo" />
                                                        <input type="hidden" name="etiqueta" value="@item.CamposPrEtiqueta" />
                                                        <input type="hidden" name="arreglo" value="@item.CamposPrArreglo1" />
                                                        <input type="hidden" name="tipodato" value="@item.CamposPrTipoDato" />
                                                        <input type="hidden" name="version" value="@item.CamposPrVersion" />
                                                        <input type="hidden" name="obligatorio" value="@item.CamposPrObliga1" />
                                                        <button type="submit" class="btn btn-primary"><i class="fa-sharp fa-solid fa-angle-right"></i></button>
                                                    </form>
                                                </td>
                                                <td class="text-center">
                                                    <form method="post" action="@Url.Action("DeleteCampoProveedor", "ConfigCampos")">
                                                        <input type="hidden" name="id" value="@item.CamposPrId" />
                                                        <button type="submit" class="btn btn-danger">
                                                            <i class="fa-solid fa-trash"></i>
                                                        </button>
                                                    </form>
                                                </td>
                                            </tr>
                                        }


                                    </tbody>
                                </table>
                            </div>
                            <div class="col-md-2 d-flex align-items-center justify-content-center">
                                <div class="text-center">
                                    <br><br>
                                    <br><br>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <table id="table2" class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th scope="col" class="text-center">Campos Mirage</th>
                                            <th scope="col" class="text-center">Acciones</th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item2 in Model.Item2)
                                        {
                                            <tr>
                                                <td class="text-center">@item2.CamposMiCampo</td>
                                                <td class="text-center">
                                                    <form method="post" action="@Url.Action("DeleteCampoMirage", "ConfigCampos")">
                                                        <input type="hidden" name="id" value="@item2.CamposMiId" />
                                                        <button type="submit" class="btn btn-primary">
                                                            <i class="fa fa-angle-left" aria-hidden="true"></i>
                                                        </button>
                                                    </form>
                                                </td>
                                            </tr>

                                        }



                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/Scripts/sidebar.js"></script>
    <script src="~/Scripts/JavaScript.js"></script>
    <script src="~/Scripts/export-csv.js"></script>
    <script>
        function determinaAccion() {
            if (document.getElementById('radioBtnFecha').checked) {
                location.href = '@Url.Action("FacturasMultiFiltro", "Home")?fechaInicio=' + document.getElementById('startDate').value + '&fechaFin=' + document.getElementById('endDate').value + '&rfcEmisor=' + document.getElementById("rfcEmisor").value + '&rfcReceptor=' + document.getElementById("rfcReceptor").value + '&serie=' + document.getElementById("serie").value + '&folio=' + document.getElementById("folio").value;
            } else if (document.getElementById('radioBtnFolio').checked) {
                location.href = '@Url.Action("FacturasFolio", "Home")?FolioFiscal=' + document.getElementById('FolioFiscal').value;
            }
        }

        $(document).ready(function () {
            var selectedRow = null;

            // Add click event listener to table rows
            $('table tbody tr').click(function () {
                // Remove "selected" class from previously selected row
                if (selectedRow != null) {
                    $(selectedRow).removeClass('selected');
                }

                // Add "selected" class to clicked row
                $(this).addClass('selected');
                selectedRow = this;
            });

            // Add click event listener to move button
            $('#move-btn').click(function () {
                var selectedRow = $("#table1 tbody tr.selected");

                // Check if a row is selected
                if (selectedRow != null) {

                    // Append selected row to destination table
                    $('#table2 tbody').append($(selectedRow));
                    // Remove "selected" class from selected row
                    $(selectedRow).removeClass('selected');
                    selectedRow = null;
                }
            });

            // Add click event listener to move back button
            $('#move-back-btn').click(function () {
                // Check if a row is selected
                if (selectedRow != null) {
                    // Append selected row to original table
                    $('#table1 tbody').append($(selectedRow));
                    // Remove "selected" class from selected row
                    $(selectedRow).removeClass('selected');
                    selectedRow = null;
                }
            });

            // Add click event listener to move second to first button
            $('#move-second-to-first-btn').click(function () {
                // Check if a row is selected
                if (selectedRow != null) {
                    // Append selected row to original table
                    $('#table1 tbody').append($(selectedRow));
                    // Remove "selected" class from selected row
                    $(selectedRow).removeClass('selected');
                    selectedRow = null;
                }
            });





        });






    </script>

</body>

</html>